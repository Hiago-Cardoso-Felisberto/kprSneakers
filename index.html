<!DOCTYPE html>
<html lang="pt-BR">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPR Sneakers </title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./Css/style.css">
    <link rel="icon" type="image/png" href="Imagens/Logo.ico"/>

    </head>
    <body>
        <!-- ==================== HEADER ==================== -->
        <header class="header">
            <img src="Imagens/Logo.jpg" alt="Logo KPR IMPORTS" class="logo">
            <div id="header-user" style="display:none;margin-left:auto;display:flex;gap:15px;align-items:center;color:#CAA56A;">
                <span id="header-usuario-nome"></span>
                <button id="btn-logout" class="b" style="padding:8px 12px;font-size:0.9em;">Sair</button>
            </div>
        </header>

        
        <!-- ==================== CARROSSEL ==================== -->
        <div class="carousel-container">
            <div class="carousel" id="carousel"></div>
        </div>
        
        <!-- ==================== PESQUISA E FILTROS ==================== -->
        <div class="search-filters-container">
            <div class="search-container">
                <input type="text" id="search" placeholder="Pesquisar produto...">
            </div>
            <div class="filters">
                <div class="filter-btn active" data-filter="all">Todos</div>
                <div class="filter-btn" data-filter="masculino">Masculino</div>
                <div class="filter-btn" data-filter="feminino">Feminino</div>
            </div>
        </div>
        
        <!-- ==================== VITRINE FIXA ==================== -->
        <main id="produtos"></main>

        <!-- ==================== MODAL GALERIA ==================== -->
        <div id="galeria" class="l">
        <a href="#" class="c">&times;</a>
        <div class="gc">
            <div class="colors" id="galeria-cores"></div>
            <img id="galeria-img" class="p" src="" loading="lazy">
            <div class="m" id="galeria-mini"></div>
            <div class="n">
            <button class="b" id="prev">‹ Anterior</button>
            <button class="b" id="next">Próxima ›</button>
            </div>
            <div class="co"><span id="galeria-cont">1 / 1</span></div>
            <a id="whatsapp-btn" class="whatsapp-btn" href="#" target="_blank">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <img src="Imagens/whatssapp-big-logo.png" alt="whatsapp logo" id="whatsapp_img">
              </svg>
              Falar com o vendedor
            </a>
        </div>
        </div>

     <a id="admin-link" href="login.html" style="opacity:0.1;color:#CAA56A;margin-left:12px;font-size:0.9em;text-decoration:none;">Admin</a>

<!-- Painel admin para adicionar produtos dinamicamente -->
<section id="admin-panel" style="padding:20px;background:rgba(255,255,255,0.02);">
    <details>
        <summary style="cursor:pointer;color:#CAA56A;font-weight:bold;padding:8px 0;">Painel Admin — Adicionar/Editar produto</summary>
        <form id="admin-form" style="margin-top:12px;display:flex;flex-direction:column;gap:8px;max-width:700px;">
            <input id="admin-nome" type="text" placeholder="Nome do produto (ex: Nike Air)" required>
            <select id="admin-tipo">
                <option value="masculino">Masculino</option>
                <option value="feminino">Feminino</option>
                <option value="unissex">Unissex</option>
            </select>
            <input id="admin-preco" type="number" placeholder="Preço (opcional)" step="0.01">

            <div id="admin-cores">
                <!-- Blocos de cor serão inseridos aqui -->
            </div>
            <div style="display:flex;gap:8px;flex-wrap:wrap;">
                <button type="button" id="add-color-btn" class="b">Adicionar cor</button>
                <button type="submit" class="b">Adicionar/Salvar produto</button>
                <button type="button" id="cancel-edit-btn" class="b" style="background:rgba(150,150,150,0.2);border-color:#888;color:#aaa;display:none;">Cancelar edição</button>
            </div>
            <small style="color:#ccc;">Para cada cor, insira URLs das imagens uma por linha no campo "Galeria".</small>
        </form>
    </details>
    
    <details style="margin-top:12px;">
        <summary style="cursor:pointer;color:#CAA56A;font-weight:bold;padding:8px 0;">Produtos cadastrados</summary>
        <div id="produtos-list" style="margin-top:12px;max-height:400px;overflow-y:auto;">
            <!-- Lista de produtos será gerada aqui -->
        </div>
    </details>

    <details style="margin-top:12px;">
        <summary style="cursor:pointer;color:#CAA56A;font-weight:bold;padding:8px 0;">Alterar senha</summary>
        <form id="change-password-form" style="margin-top:12px;display:flex;flex-direction:column;gap:8px;max-width:400px;">
            <input type="password" id="senha-atual" placeholder="Senha atual" required>
            <input type="password" id="senha-nova" placeholder="Nova senha" required minlength="6">
            <input type="password" id="senha-confirmacao" placeholder="Confirme a nova senha" required minlength="6">
            <button type="submit" class="b">Alterar senha</button>
            <small id="change-password-msg" style="color:#ccc;"></small>
        </form>
    </details>
</section>

<script src="./Js/init-auth.js" type="module"></script>
<script src="./Js/auth-api.js" type="module"></script>
<script src="./Js/main.js" type="module"></script>
</body>
</html>